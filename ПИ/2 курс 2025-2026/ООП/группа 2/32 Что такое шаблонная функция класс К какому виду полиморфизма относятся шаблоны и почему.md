## Шаблонная функция и класс

**Шаблонная функция** - функция, параметризованная одним или несколькими типами или значениями, которая генерирует конкретные реализации при инстанцировании.

```cpp
template<typename T>
T max(T a, T b) { // Шаблонная функция
    return (a > b) ? a : b;
}

int main() {
    max(5, 10);      // Инстанцируется max<int>
    max(3.14, 2.71); // Инстанцируется max<double>
}
```

**Шаблонный класс** - класс, параметризованный типами или значениями, который служит как шаблон для создания конкретных классов.

```cpp
template<typename T>
class Container { // Шаблонный класс
    T element;
public:
    Container(T e) : element(e) {}
    T get() { return element; }
};

Container<int> intContainer(42);    // Конкретный класс Container<int>
Container<string> strContainer("hello");
```

## Вид полиморфизма для шаблонов

**Шаблоны относятся к параметрическому полиморфизму (parametric polymorphism)**, также называемому **статическим полиморфизмом** или **полиморфизмом времени компиляции**.

### Почему именно параметрический полиморфизм?

1. **Параметризация типами**: Шаблоны позволяют писать код, параметризованный типами, без привязки к конкретным типам.

2. **Разрешение на этапе компиляции**: Конкретные типы подставляются и проверяются во время компиляции, а не во время выполнения.

3. **Генерация специализированного кода**: Для каждой комбинации шаблонных параметров компилятор генерирует отдельный код.

### Сравнение с другими видами полиморфизма:

```cpp
// 1. Параметрический полиморфизм (шаблоны)
template<typename T>
void process(T item) { /* работает для любого T */ }

// 2. Полиморфизм подтипов (динамический)
class Base { virtual void process() = 0; };
class Derived : public Base { void process() override {} };

// 3. Ad-hoc полиморфизм (перегрузка)
void process(int) {}
void process(double) {}
```

### Ключевые характеристики:

- **Статическое разрешение**: Типы известны при компиляции
- **Отсутствие накладных расходов**: Нет виртуальных таблиц
- **Генерирует несколько версий кода**: Для `vector<int>` и `vector<double>` будут сгенерированы разные классы
- **Проверка типов на этапе компиляции**: Ошибки типов обнаруживаются при компиляции

```cpp
// Пример параметрического полиморфизма
template<typename T>
T add(T a, T b) {
    return a + b; // Работает для любого типа с оператором +
}

add(5, 3);      // int версия
add(2.5, 3.7);  // double версия
// add("a", "b"); // Ошибка компиляции: нет оператора + для const char*
```

### Отличие от динамического полиморфизма:

```cpp
// Динамический полиморфизм (единый код, разные поведения в runtime)
class Animal {
public:
    virtual void speak() = 0; // Единый интерфейс
};

// Параметрический полиморфизм (разный код для разных типов)
template<typename T>
class Box {
    T value; // Разная реализация для каждого T
};
```

**Итог**: Шаблоны реализуют параметрический полиморфизм, так как позволяют создавать алгоритмы и структуры данных, которые могут работать с любыми типами, удовлетворяющими определённым требованиям, при этом конкретные реализации генерируются на этапе компиляции.